(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0436":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n("f3d3")),i=u(n("2f62"));function u(e){return e&&e.__esModule?e:{default:e}}o.default.use(i.default);var a=new i.default.Store({state:{audio:e.createInnerAudioContext(),detail:"",paused:!1,lyric:"",history:[],mode:1,musicIndex:0,timer:null,degs:0},mutations:{degsadd:function(e){function t(){e.degs++,e.timer=requestAnimationFrame(t)}requestAnimationFrame(t)},play:function(e,t){function n(){e.degs++,e.timer=requestAnimationFrame(n)}cancelAnimationFrame(e.timer),e.audio.src=t,e.audio.play(),e.paused=!0,requestAnimationFrame(n)},playItem:function(e,t){e.detail=t},playd:function(e){if(e.paused)e.audio.pause(),e.paused=!1,cancelAnimationFrame(e.timer);else{var t=function t(){e.degs++,e.timer=requestAnimationFrame(t)};e.audio.play(),e.paused=!0,requestAnimationFrame(t)}},addHistory:function(e,t){var n=e.history.findIndex(function(e){return e.id===t[2]});-1===n&&e.history.unshift({src:t[0],item:t[1],id:t[2]})},addIndex:function(e){e.musicIndex++,e.musicIndex>e.history.length-1&&(e.musicIndex=0)},lastIndex:function(e){e.musicIndex--,e.musicIndex<0&&(e.musicIndex=e.history.length-1)},modeChange:function(e){e.mode++,e.mode%=3}},actions:{getSrc:function(t,n){var o=t.commit;t.dispatch;Promise.all([new Promise(function(t,i){e.request({url:"https://api.wulv5.com/music/song/url?id=".concat(n.id),success:function(e){o("play",e.data.data[0].url),t(e.data.data[0].url)}})}),new Promise(function(t,i){e.request({url:"https://api.wulv5.com/music/song/detail?ids=".concat(n.id),success:function(e){o("playItem",e.data),t(e.data)}})})]).then(function(e){e[2]=n.id,o("addHistory",e)})}}});t.default=a}).call(this,n("6e42")["default"])},"1fd6":function(e,t,n){"use strict";n("2443");var o=a(n("f3d3")),i=a(n("6cd6")),u=a(n("0436"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default.config.productionTip=!1,i.default.mpType="app",o.default.prototype.$store=u.default;var d=new o.default(r({store:u.default},i.default));d.$mount()},"6cd6":function(e,t,n){"use strict";n.r(t);var o=n("a0dc");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("9e17");var u,a,r=n("2877"),c=Object(r["a"])(o["default"],u,a,!1,null,null,null);t["default"]=c.exports},"9e17":function(e,t,n){"use strict";var o=n("f2c5"),i=n.n(o);i.a},a0dc:function(e,t,n){"use strict";n.r(t);var o=n("d138"),i=n.n(o);for(var u in o)"default"!==u&&function(e){n.d(t,e,function(){return o[e]})}(u);t["default"]=i.a},d138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("2f62"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r={onLaunch:function(){console.log("App Launch");var e=this;e.audio.onEnded(function(){if(0===e.mode)e.audio.play();else if(1===e.mode)e.addIndex(),e.play(e.history[e.musicIndex].src),e.playItem(e.history[e.musicIndex].item);else if(2===e.mode){var t=Math.floor(Math.random()*e.history.length);e.play(e.history[t].src),e.playItem(e.history[t].item)}})},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},computed:u({},o.default.mapState(["audio","mode","musicIndex","history"])),methods:u({},o.default.mapMutations(["play","playItem","getLyric","addIndex"]))};t.default=r},f2c5:function(e,t,n){}},[["1fd6","common/runtime","common/vendor"]]]);